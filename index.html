<!DOCTYPE html>
<head>
  <title>Touchback</title>
  <script src="http://js.pusher.com/2.2/pusher.min.js" type="text/javascript"></script>
  <script src="jquery-2.1.1.min.js" type="text/javascript"></script>
  <script type="text/javascript">
      // Enable pusher logging - don't include this in production
      Pusher.log = function(message) {
        if (window.console && window.console.log) {
          window.console.log(message);
        }
      };

    var pusher = new Pusher('c33fc4a8941963703867');
    var channel = pusher.subscribe('touch');
    channel.bind('touch', function(data) {
    });

    function startup() {
      var el = document.getElementsByTagName("body")[0];
      el.addEventListener("touchstart", ht, false);
      el.addEventListener("touchend", ht, false);
      el.addEventListener("touchcancel", ht, false);
      el.addEventListener("touchleave", ht, false);
      el.addEventListener("touchmove", ht, false);
      log("initialized.");
    }

    function ht(evt) {
      evt.preventDefault();
      channel.trigger('touch', evt.Touches);
    }
    $(function() {
      startup();
    })
  </script>
</head>
<body>
</body>
